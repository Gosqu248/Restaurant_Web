<img class="background" alt="" src="assets/images/Pay-conf-back.webp">

<div class="item2" *ngIf="isLoading; else content">
  <mat-spinner></mat-spinner>
</div>

<ng-template #content>
  <div class="item" *ngIf="paymentId !== ''; else notId">
    <h2>Status płatności</h2>
    <p>Numer płatności: <span>{{ paymentId }}</span></p>

    <div *ngIf="status === 'COMPLETED'">
      <p>Status: <span class="success">ZAKOŃCZONO</span></p>
      <p class="title">Płatność zakończona sukcesem</p>
      <button (click)="goToOrders()">Przejdź do zamówień</button>
    </div>

    <div *ngIf="status === 'CANCELED'">
      <p>Status: <span class="error">ANULOWANO</span></p>
      <p class="title">Płatność nie powiodła się</p>
      <button (click)="backToCheckout()">Wróć do kasy</button>
    </div>
  </div>
  <ng-template #notId>
    <div class="item">
      <p>Brak numeru zamówienia. Wystąpił błąd podczas przetwarzania płatności.</p>
      <button [routerLink]="['/']">Wróć do strony głównej</button>
    </div>
  </ng-template>
</ng-template>
